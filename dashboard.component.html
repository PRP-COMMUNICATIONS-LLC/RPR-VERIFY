<!-- src/app/components/dashboard/dashboard.component.html -->
<div class="space-y-8">
  <!-- Filter Bar -->
  <div class="flex flex-wrap items-center gap-4 p-4 bg-slate-800 rounded-lg shadow-md border border-slate-700">
    <label for="dateRange" class="text-gray-300">Date Range:</label>
    <select
      id="dateRange"
      [(ngModel)]="selectedDateRange"
      class="bg-slate-700 text-gray-100 p-2 rounded border border-slate-600 focus:ring-cyan-brand focus:border-cyan-brand"
    >
      <option value="last7days">Last 7 Days</option>
      <option value="last30days">Last 30 Days</option>
      <option value="thismonth">This Month</option>
      <option value="lastmonth">Last Month</option>
    </select>

    <label for="caseType" class="text-gray-300">Case Type:</label>
    <select
      id="caseType"
      [(ngModel)]="selectedCaseType"
      class="bg-slate-700 text-gray-100 p-2 rounded border border-slate-600 focus:ring-cyan-brand focus:border-cyan-brand"
    >
      <option value="all">All</option>
      <option value="fraud">Fraud</option>
      <option value="compliance">Compliance</option>
      <option value="security">Security</option>
    </select>

    <label for="analyst" class="text-gray-300">Analyst:</label>
    <select
      id="analyst"
      [(ngModel)]="selectedAnalyst"
      class="bg-slate-700 text-gray-100 p-2 rounded border border-slate-600 focus:ring-cyan-brand focus:border-cyan-brand"
    >
      <option value="all">All</option>
      <option value="john">John Doe</option>
      <option value="jane">Jane Smith</option>
    </select>

    <button
      class="ml-auto px-4 py-2 bg-cyan-brand text-slate-900 font-semibold rounded-md hover:bg-cyan-400 transition-colors duration-200"
    >
      Apply Filters
    </button>
  </div>

  <!-- KPI Cards Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    @for (kpi of kpiCards(); track kpi.title) {
      <div class="bg-slate-800 p-6 rounded-lg shadow-lg border border-slate-700 flex flex-col justify-between">
        <div>
          <h3 class="text-lg font-semibold text-gray-200 mb-2">{{ kpi.title }}</h3>
          <p class="text-4xl font-bold text-cyan-brand mb-2">
            {{ kpi.value }}<span class="text-xl ml-1 text-gray-300">{{ kpi.unit }}</span>
          </p>
        </div>
        <div class="flex items-center text-sm">
          @if (kpi.trend === 'up') {
            <span class="text-green-400 flex items-center mr-2">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              {{ kpi.trendValue }}%
            </span>
          }
          @if (kpi.trend === 'down') {
            <span class="text-red-400 flex items-center mr-2">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M14.707 9.707a1 1 0 010-1.414l-4-4a1 1 0 01-1.414 0l-4 4a1 1 0 111.414 1.414L9 7.414V15a1 1 0 112 0V7.414l2.293 2.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              {{ kpi.trendValue }}%
            </span>
          }
          <p class="text-gray-400">{{ kpi.description }}</p>
        </div>
      </div>
    }
  </div>

  <!-- Charts Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- SLA Adherence Over Time -->
    <div class="bg-slate-800 p-6 rounded-lg shadow-lg border border-slate-700">
      <h3 class="text-lg font-semibold text-gray-200 mb-4">SLA Adherence Over Time</h3>
      <div #slaChart class="w-full h-64"></div>
    </div>

    <!-- Dispute Outcomes -->
    <div class="bg-slate-800 p-6 rounded-lg shadow-lg border border-slate-700">
      <h3 class="text-lg font-semibold text-gray-200 mb-4">Dispute Outcomes</h3>
      <div #donutChart class="w-full h-64 flex items-center justify-center"></div>
    </div>

    <!-- Fraud Detection Analysis -->
    <div class="bg-slate-800 p-6 rounded-lg shadow-lg border border-slate-700 col-span-1 lg:col-span-2">
      <h3 class="text-lg font-semibold text-gray-200 mb-4">Fraud Detection Analysis</h3>
      <div #barChart class="w-full h-80"></div>
    </div>
  </div>

  <!-- Vulnerable Customer Metrics -->
  <div class="bg-slate-800 p-6 rounded-lg shadow-lg border border-slate-700">
    <h3 class="text-lg font-semibold text-gray-200 mb-4">Vulnerable Customer Metrics</h3>
    <p class="text-gray-300">
      Overview of identified vulnerable customers and associated risk scores.
    </p>
    <div class="mt-4 p-4 bg-slate-700 rounded-md text-gray-400">
      No vulnerable customer data available for the selected period.
    </div>
  </div>
</div>
