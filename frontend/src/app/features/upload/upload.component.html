<div class="space-y-8">
  <div>
    <h2 class="text-white font-bold text-2xl">Secure Defense Upload</h2>
    <p class="text-slate-400">Files are encrypted and synced to the Local Engine (The Shield).</p>
  </div>

  <div 
    (click)="triggerFileInput()" 
    class="bg-rpr-800/50 border-2 border-dashed border-rpr-700 hover:border-rpr-teal h-64 flex flex-col items-center justify-center rounded-xl cursor-pointer transition">
    <svg class="text-rpr-teal text-4xl mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.342 0 4.5 4.5 0 01-1.41 8.775H6.75z" /></svg>
    <p class="text-slate-300">Drag defense files here or click to browse</p>
    <input type="file" id="file-upload" class="hidden" (change)="onFileSelected($event)"/>
  </div>

  @if (files().length > 0) {
    <div class="space-y-4">
      <h3 class="text-white font-medium">Recent Uploads</h3>
      @for (file of files(); track file.name) {
        <div class="bg-rpr-800 border border-rpr-700 rounded-lg p-4 flex items-center justify-between">
          <div class="flex items-center gap-4 w-full">
            <span class="text-2xl">ðŸ“„</span>
            <div class="w-full">
              <div class="flex justify-between items-center mb-1">
                <p class="text-sm font-medium text-slate-200">{{ file.name }}</p>
                <span 
                  class="text-xs font-medium px-2 py-1 rounded-full"
                  [class]="{
                    'bg-yellow-500/20 text-yellow-400': file.status === 'Processing',
                    'bg-rpr-green/20 text-rpr-green': file.status === 'Synced',
                    'bg-rpr-red/20 text-rpr-red': file.status === 'Failed'
                  }">
                  {{ file.status }}
                </span>
              </div>
              @if (file.status === 'Processing') {
                <div class="w-full bg-rpr-900 rounded-full h-2 overflow-hidden">
                  <div class="bg-rpr-teal h-2" [style.width.%]="file.progress"></div>
                </div>
              }
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>
