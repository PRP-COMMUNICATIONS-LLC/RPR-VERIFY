<div class="forensic-container">
  <h2>Sovereign Audit Station</h2>

  <div class="upload-section">
    <input type="file" (change)="onFileUpload($event)" [disabled]="isProcessing">
    <p *ngIf="isProcessing">ðŸ“¡ Contacting Singapore Engine...</p>
  </div>

  <div *ngIf="auditResult" class="audit-card" [class.variance-alert]="auditResult.forensic.isRedAlert">
    <div class="data-grid">
      <div>
        <h4>OCR EXTRACTED</h4>
        <p class="amount">{{ auditResult.extractedMetadata.amount | currency }}</p>
      </div>
      <div>
        <h4>SYSTEM EXPECTED</h4>
        <p class="amount">{{ auditResult.expectedAmount | currency }}</p>
      </div>
    </div>

    <div class="forensic-summary">
      <hr>
      <p><strong>VARIANCE:</strong> {{ auditResult.forensic.variance }}%</p>
      <p [class.discrepancy-label]="auditResult.forensic.isRedAlert">
        STATUS: {{ auditResult.forensic.status }}
      </p>
    </div>

    <button class="lock-button"
            (click)="confirmAudit()"
            [disabled]="auditResult.forensic.isRedAlert || isProcessing">
      Confirm Audit
    </button>
    <p class="notion-status">{{ notionStatus }}</p>
  </div>
</div>